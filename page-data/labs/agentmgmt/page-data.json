{"componentChunkName":"component---src-pages-labs-agentmgmt-index-mdx","path":"/labs/agentmgmt/","result":{"pageContext":{"frontmatter":{"title":"Lab 1 - Installing the IEAM agent","description":"Enrolling the edge device into IEAM server"},"relativePagePath":"/labs/agentmgmt/index.mdx","titleType":"page","MdxNode":{"id":"2acfc5bc-e401-5405-a193-af81d3101846","children":[],"parent":"ab8a95de-b23e-59bb-ae0c-730f0b2930c3","internal":{"content":"---\ntitle: Lab 1 - Installing the IEAM agent\ndescription: Enrolling the edge device into IEAM server\n---\n\n<FeatureCard\n  title=\"Installing the IBM Edge Application Manager agent in edge device\"\n  color=\"dark\"\n  >\n\n![banner](/images/agent-banner.jpg)\n\n</FeatureCard>\n\n\n<AnchorLinks>\n  <AnchorLink>Lab Overview</AnchorLink>\n  <AnchorLink>Prerequisite</AnchorLink>\n  <AnchorLink>Business Context</AnchorLink>\n  <AnchorLink>Create API key</AnchorLink>\n  <AnchorLink>Install the agent</AnchorLink>\n  <AnchorLink>Summary</AnchorLink>\n</AnchorLinks>\n\n***\n\n## Lab Overview\n\nIBM Cloud Pak for Multicloud Management provides consistent visibility, automation, and governance across a range of multicloud management capabilities such as cost and asset management, infrastructure management, application management, multi-cluster management, edge management, and integration with existing tools and processes. Customers can leverage Cloud Pak for Multicloud Management to simplify their IT and application ops management, while increasing flexibility and cost savings with intelligent data analysis driven by predictive signals.\n\nIBM Cloud Pak for Multicloud Management can manage Kubernetes clusters that are deployed on any target infrastructure - either in your own data center or in a public cloud.\n\nIn this tutorial, you will explore the following key capabilities:\n-\t`Understand Cloud Pak for Multicloud Management`\n-\t`Learn how to add a managed cluster`\n- `learn how to gather monitoring metrics from the managed cluster`\n-\t`Learn how to deploy an application to the managed cluster`\n\n***\n\n## Prerequisite\n\n- You need to provision your own copy of the CP4MCM 2.0 environment, start it and verify for correct startup (check [here](../../gettingstarted/)).\n\n***\n\n## Business Context\n\nAs a member of the Cloud Operation team, you are having problems to manage your multicloud hybrid world. Operate your cloud-based services and data across multiple providers is overwhelming your team.\nYour company is deploying multiple Kubernetes clusters to address their specific needs. Some Dev teams are deploying clusters across public and private clouds, and some are deploying clusters across regions, and some are deploying clusters to support the development and test needs.\n\nAs different teams deploy more clusters, new challenges are introduced:\n-\tWhere are my services running?\n-\tHow can I monitor applications across clusters and clouds?\n-\tHow can I manage clusters as if they were one environment?\n-\tWhere are the failed components?\n-\tHow do I deploy applications across these environments?\n-\tHow do I move workloads across environments?\n-\tHow do I set consistent security policies across environments?\n-\tWhich clusters are compliant?\n-\tHow can I place workloads based on capacity, policy?\n\nBecause of that, you want to explore how IBM Cloud Pak for Multicloud Management, provides consistent visibility, governance and automation of your complex environment.\n\nIn this tutorial, you use a Red Hat OpenShift cluster with Cloud Pak for MCM as a **Management Hub** and a second single-node cluster running MicroK8s as a **managed cluster**\n-\tHub cluster includes management console, federated monitoring, and all the controllers. \n-\tManaged cluster includes klusterlet components that communicate status back to the Hub cluster. \n\nThe relationship between hub and managed clusters is shown in the diagram below:\n\n![](images/1-cluster-mgmt-img.png)\n\nIn this tutorial, you will log in to the Hub cluster to do cluster management.\n\nYou will complete the following tasks:\n-\tAdd a managed cluster\n-\tVisualize cluster topology\n-\tVisualize clusters and launch to each cluster\n- Deploy remote cluster cloud native monitoring\n-\tDeploy an application to remote cluster\n-\tManage cluster objects\n\n***\n\n## Connecting to the simulated edge device\n\nTo access the simulated edge device (the provided Ubuntu VM) you need a terminal with SSH client. On Mac or Linux workstation use a regular terminal, on Windows use Putty\n\nOpen the link provided you in the reservation confirmation mail. You should see the similar similar to the one shown below:\n\n<span style=\"color:red\">**IT IS NOT RECOMMENDED TO USE SKYTAP UI TO CONNECT TO THE MACHINE - YOU WILL USE A TERMINAL CONNECTION DIRECTLY FROM YOUR WORKSTATION**</span>\n\nYou should see the page that looks like this\n\n![](images/2020-12-07-14-53-59.png)\n\nTake a note of address and the port number, next to the **ubuntu-virtualdev** VM. In above example, it is *services-uscentral.skytap.com* and *13533*. It is the SSH port exposed from the virtal machine for your instance.\n\nOpen the terminal on your workstation. Connect to the VM using user **ibmuser** with password **passw0rd!**\n\nFor Mac and Linux\n```\nssh -p <port> ibmuser@<address>\n```\n\nfor example:\n```\nssh -p 14078 localuser@services-uscentral.skytap.com\n```\n\nFor Windows use putty\n\n![](images/2020-01-20-15-25-41.png)\n\nUpon sucessful login you should see the similar output\n\n```sh\n$ ssh ibmuser@services-uscentral.skytap.com -p 13533\nThe authenticity of host '[services-uscentral.skytap.com]:13533 ([184.170.232.54]:13533)' can't be established.\nECDSA key fingerprint is SHA256:Qmebxf1haOx+zzp4gPxpB8EZ4N1YQ3rEcQK+jRj5b/Q.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '[services-uscentral.skytap.com]:13533,[184.170.232.54]:13533' (ECDSA) to the list of known hosts.\nibmuser@services-uscentral.skytap.com's password: \nWelcome to Ubuntu 18.04.4 LTS (GNU/Linux 5.4.0-47-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n * Introducing self-healing high availability clusters in MicroK8s.\n   Simple, hardened, Kubernetes for production, from RaspberryPi to DC.\n\n     https://microk8s.io/high-availability\n\n * Canonical Livepatch is available for installation.\n   - Reduce system reboots and improve kernel security. Activate at:\n     https://ubuntu.com/livepatch\n\n0 packages can be updated.\n0 updates are security updates.\n\nYour Hardware Enablement Stack (HWE) is supported until April 2023.\nLast login: Mon Nov 30 11:58:13 2020 from 76.230.154.218\nibmuser@ubuntu-virtdevice:~$ \n```\n\n***\n\n## Add API key\n\nIn this section, you will connect to the IBM Edge Application Manager server, generate the API key for your user and use that key to install and register the agent.\n\n\n\n  Congratulations! You have successfully completed the lab \"Installing IBM Edge Application Manager agent‚Äù.\n\n***\n\n## Summary\n\nYou completed the Cloud Pak for Multicloud Management tutorial: Multi-cluster Management. Throughout the tutorial, you explored the key takeaways:\n- `Understand Cloud Pak for Multicloud Management`;\n- `Add a managed cluster`;\n- `Deploy an application`;\n-\t`Manage and monitor application resources of local and remote clusters`;\n\nIf you would like to learn more about Cloud Pak for Multicloud Management, please refer to:\n-\t<a href=\"https://www.ibm.com/cloud/cloud-pak-for-management\" target=\"blank\">Cloud Pak for Multicloud Management home page</a>\n- <a href=\"https://www.ibm.com/demos/collection/Cloud-Pak-for-Multicloud-Management\" target=\"blank\">Cloud Pak for Multicloud Management Demos </a>\n","type":"Mdx","contentDigest":"048fff2dc0f014f069c8f9d2d094876c","counter":298,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Lab 1 - Installing the IEAM agent","description":"Enrolling the edge device into IEAM server"},"exports":{},"rawBody":"---\ntitle: Lab 1 - Installing the IEAM agent\ndescription: Enrolling the edge device into IEAM server\n---\n\n<FeatureCard\n  title=\"Installing the IBM Edge Application Manager agent in edge device\"\n  color=\"dark\"\n  >\n\n![banner](/images/agent-banner.jpg)\n\n</FeatureCard>\n\n\n<AnchorLinks>\n  <AnchorLink>Lab Overview</AnchorLink>\n  <AnchorLink>Prerequisite</AnchorLink>\n  <AnchorLink>Business Context</AnchorLink>\n  <AnchorLink>Create API key</AnchorLink>\n  <AnchorLink>Install the agent</AnchorLink>\n  <AnchorLink>Summary</AnchorLink>\n</AnchorLinks>\n\n***\n\n## Lab Overview\n\nIBM Cloud Pak for Multicloud Management provides consistent visibility, automation, and governance across a range of multicloud management capabilities such as cost and asset management, infrastructure management, application management, multi-cluster management, edge management, and integration with existing tools and processes. Customers can leverage Cloud Pak for Multicloud Management to simplify their IT and application ops management, while increasing flexibility and cost savings with intelligent data analysis driven by predictive signals.\n\nIBM Cloud Pak for Multicloud Management can manage Kubernetes clusters that are deployed on any target infrastructure - either in your own data center or in a public cloud.\n\nIn this tutorial, you will explore the following key capabilities:\n-\t`Understand Cloud Pak for Multicloud Management`\n-\t`Learn how to add a managed cluster`\n- `learn how to gather monitoring metrics from the managed cluster`\n-\t`Learn how to deploy an application to the managed cluster`\n\n***\n\n## Prerequisite\n\n- You need to provision your own copy of the CP4MCM 2.0 environment, start it and verify for correct startup (check [here](../../gettingstarted/)).\n\n***\n\n## Business Context\n\nAs a member of the Cloud Operation team, you are having problems to manage your multicloud hybrid world. Operate your cloud-based services and data across multiple providers is overwhelming your team.\nYour company is deploying multiple Kubernetes clusters to address their specific needs. Some Dev teams are deploying clusters across public and private clouds, and some are deploying clusters across regions, and some are deploying clusters to support the development and test needs.\n\nAs different teams deploy more clusters, new challenges are introduced:\n-\tWhere are my services running?\n-\tHow can I monitor applications across clusters and clouds?\n-\tHow can I manage clusters as if they were one environment?\n-\tWhere are the failed components?\n-\tHow do I deploy applications across these environments?\n-\tHow do I move workloads across environments?\n-\tHow do I set consistent security policies across environments?\n-\tWhich clusters are compliant?\n-\tHow can I place workloads based on capacity, policy?\n\nBecause of that, you want to explore how IBM Cloud Pak for Multicloud Management, provides consistent visibility, governance and automation of your complex environment.\n\nIn this tutorial, you use a Red Hat OpenShift cluster with Cloud Pak for MCM as a **Management Hub** and a second single-node cluster running MicroK8s as a **managed cluster**\n-\tHub cluster includes management console, federated monitoring, and all the controllers. \n-\tManaged cluster includes klusterlet components that communicate status back to the Hub cluster. \n\nThe relationship between hub and managed clusters is shown in the diagram below:\n\n![](images/1-cluster-mgmt-img.png)\n\nIn this tutorial, you will log in to the Hub cluster to do cluster management.\n\nYou will complete the following tasks:\n-\tAdd a managed cluster\n-\tVisualize cluster topology\n-\tVisualize clusters and launch to each cluster\n- Deploy remote cluster cloud native monitoring\n-\tDeploy an application to remote cluster\n-\tManage cluster objects\n\n***\n\n## Connecting to the simulated edge device\n\nTo access the simulated edge device (the provided Ubuntu VM) you need a terminal with SSH client. On Mac or Linux workstation use a regular terminal, on Windows use Putty\n\nOpen the link provided you in the reservation confirmation mail. You should see the similar similar to the one shown below:\n\n<span style=\"color:red\">**IT IS NOT RECOMMENDED TO USE SKYTAP UI TO CONNECT TO THE MACHINE - YOU WILL USE A TERMINAL CONNECTION DIRECTLY FROM YOUR WORKSTATION**</span>\n\nYou should see the page that looks like this\n\n![](images/2020-12-07-14-53-59.png)\n\nTake a note of address and the port number, next to the **ubuntu-virtualdev** VM. In above example, it is *services-uscentral.skytap.com* and *13533*. It is the SSH port exposed from the virtal machine for your instance.\n\nOpen the terminal on your workstation. Connect to the VM using user **ibmuser** with password **passw0rd!**\n\nFor Mac and Linux\n```\nssh -p <port> ibmuser@<address>\n```\n\nfor example:\n```\nssh -p 14078 localuser@services-uscentral.skytap.com\n```\n\nFor Windows use putty\n\n![](images/2020-01-20-15-25-41.png)\n\nUpon sucessful login you should see the similar output\n\n```sh\n$ ssh ibmuser@services-uscentral.skytap.com -p 13533\nThe authenticity of host '[services-uscentral.skytap.com]:13533 ([184.170.232.54]:13533)' can't be established.\nECDSA key fingerprint is SHA256:Qmebxf1haOx+zzp4gPxpB8EZ4N1YQ3rEcQK+jRj5b/Q.\nAre you sure you want to continue connecting (yes/no/[fingerprint])? yes\nWarning: Permanently added '[services-uscentral.skytap.com]:13533,[184.170.232.54]:13533' (ECDSA) to the list of known hosts.\nibmuser@services-uscentral.skytap.com's password: \nWelcome to Ubuntu 18.04.4 LTS (GNU/Linux 5.4.0-47-generic x86_64)\n\n * Documentation:  https://help.ubuntu.com\n * Management:     https://landscape.canonical.com\n * Support:        https://ubuntu.com/advantage\n\n * Introducing self-healing high availability clusters in MicroK8s.\n   Simple, hardened, Kubernetes for production, from RaspberryPi to DC.\n\n     https://microk8s.io/high-availability\n\n * Canonical Livepatch is available for installation.\n   - Reduce system reboots and improve kernel security. Activate at:\n     https://ubuntu.com/livepatch\n\n0 packages can be updated.\n0 updates are security updates.\n\nYour Hardware Enablement Stack (HWE) is supported until April 2023.\nLast login: Mon Nov 30 11:58:13 2020 from 76.230.154.218\nibmuser@ubuntu-virtdevice:~$ \n```\n\n***\n\n## Add API key\n\nIn this section, you will connect to the IBM Edge Application Manager server, generate the API key for your user and use that key to install and register the agent.\n\n\n\n  Congratulations! You have successfully completed the lab \"Installing IBM Edge Application Manager agent‚Äù.\n\n***\n\n## Summary\n\nYou completed the Cloud Pak for Multicloud Management tutorial: Multi-cluster Management. Throughout the tutorial, you explored the key takeaways:\n- `Understand Cloud Pak for Multicloud Management`;\n- `Add a managed cluster`;\n- `Deploy an application`;\n-\t`Manage and monitor application resources of local and remote clusters`;\n\nIf you would like to learn more about Cloud Pak for Multicloud Management, please refer to:\n-\t<a href=\"https://www.ibm.com/cloud/cloud-pak-for-management\" target=\"blank\">Cloud Pak for Multicloud Management home page</a>\n- <a href=\"https://www.ibm.com/demos/collection/Cloud-Pak-for-Multicloud-Management\" target=\"blank\">Cloud Pak for Multicloud Management Demos </a>\n","fileAbsolutePath":"/Users/dymaczew/Documents/_code/mcm/edge-demohub/src/pages/labs/agentmgmt/index.mdx"}}},"staticQueryHashes":["1364590287","2102389209","2102389209","227138135","227138135","2456312558","2746626797","2746626797","3018647132","3018647132","3906363820","3906363820","768070550"]}